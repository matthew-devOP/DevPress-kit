# Minimal Apache configuration for WordPress + PHP-FPM
DirectoryIndex index.php index.html

# Enable AllowOverride for .htaccess
<Directory "/usr/local/apache2/htdocs">
    AllowOverride All
    Require all granted
</Directory>

# PHP-FPM configuration via proxy
ProxyPassMatch ^/(.*\.php(/.*)?)$ fcgi://php-fpm:9000/usr/local/apache2/htdocs/$1

# Direct PHP file handling
<FilesMatch \.php$>
    SetHandler "proxy:fcgi://php-fpm:9000"
</FilesMatch>
